(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(61)},38:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),s=a.n(r),o=a(3),d=a(9),i=a(10),p=a(12),u=a(11),l=a(13),v=(a(38),Object(o.b)(function(e){return{passcode:e.passcode,screenStatusMessage:e.screenStatusMessage,screenActive:e.screenActive,deviceLocked:e.deviceLocked,readScreenMessage:e.readScreenMessage}})(function(e){return c.a.createElement("div",{className:e.screenActive?"depositBox__screen active":"depositBox__screen inactive"},c.a.createElement("div",null,e.deviceLocked?"Locked":"Unlocked"),c.a.createElement("div",{style:{textAlign:"right",fontSize:"32px"}},e.readScreenMessage?e.screenStatusMessage:e.passcode))})),h=a(6),E=a(28),f=a.n(E),S=function(e){return{type:"SCREEN_SET_MESSAGE",payload:e}},y=function(e){return{type:"SCREEN_ACTIVE",payload:e}},m=function(e){return{type:"DEVICE_LOCK",payload:e}},b=function(e){return{type:"SET_PASSCODE",payload:e}},g=function(e){return{type:"READ_SCREEN_MESSAGE",payload:e}},_=function(e){return{type:"SET_SERVICE_MODE",payload:e}};function O(e,t,a){var n;return function(){var c=this,r=arguments,s=a&&!n;clearTimeout(n),n=setTimeout(function(){n=null,a||e.apply(c,r)},t),s&&e.apply(c,r)}}var M="https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code=",k=4815162342,C=(a(56),Object(o.b)(function(e){return{passcode:e.passcode,serviceMode:e.serviceMode}})(function(e){return c.a.createElement("button",{onClick:function(t){return function(t){var a=e.passcode,n=e.serviceMode,c="".concat(a).concat(t.target.innerHTML);c=n?c:c.substring(c.length-6,c.length),e.debouncedHandler(),e.debouncedHandlerIdleScreen(),e.dispatch(y(!0)),e.dispatch(b(c))}(t)},className:"depositBox__key",type:"text",style:{order:e.data.order}},e.data.val)})),j=(a(57),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).validateCode=function(e){f.a.get("".concat(M).concat(e)).then(function(e){e.data===k?(a.props.dispatch(S("Unlocking")),setTimeout(function(){a.props.dispatch(S("Ready")),setTimeout(function(){a.props.dispatch(g(!1))},1500),a.props.dispatch(m(!1)),a.props.dispatch(_(!1))},3e3)):(a.props.dispatch(S("Error")),setTimeout(function(){a.props.dispatch(g(!1))},1500))})},a.debouncedHandler=O(a.handlePasscode.bind(Object(h.a)(a)),1200),a.debouncedHandlerIdleScreen=O(a.handleIdleScreen.bind(Object(h.a)(a)),5e3),a.renderKeys=function(){return[{val:"0",order:"5"},{val:"1",order:"3"},{val:"2",order:"3"},{val:"3",order:"3"},{val:"4",order:"2"},{val:"5",order:"2"},{val:"6",order:"2"},{val:"7",order:"1"},{val:"8",order:"1"},{val:"9",order:"1"},{val:"*",order:"4"},{val:"L",order:"6"}].map(function(e){return c.a.createElement(C,{debouncedHandler:a.debouncedHandler,debouncedHandlerIdleScreen:a.debouncedHandlerIdleScreen,data:e,key:e.val})})},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"handlePasscode",value:function(){var e=this,t=this.props,a=t.savedPasscode,n=t.deviceLocked,c=t.passcode,r=t.serviceMode;if(this.props.dispatch(y(!0)),this.props.dispatch(g(!0)),r)return this.validateCode(c),void this.props.dispatch(b(""));n?"000000"===c&&"000000"!==a?(this.props.dispatch(S("Service")),this.props.dispatch(_(!0)),setTimeout(function(){e.props.dispatch(g(!1))},1500)):a===c?(this.props.dispatch(S("Unlocking")),setTimeout(function(){e.props.dispatch(S("Ready")),setTimeout(function(){e.props.dispatch(g(!1))},1500),e.props.dispatch(m(!1))},3e3)):(this.props.dispatch(S("Error")),setTimeout(function(){e.props.dispatch(g(!1))},1500)):6===c.length?(this.props.dispatch({type:"SAVE_PASSCODE",payload:c}),this.props.dispatch(S("Locking")),setTimeout(function(){e.props.dispatch(m(!0)),e.props.dispatch(S("Ready")),setTimeout(function(){e.props.dispatch(g(!1))},1500)},3e3)):(this.props.dispatch(S("Error")),setTimeout(function(){e.props.dispatch(g(!1))},1500)),this.props.dispatch(b(""))}},{key:"handleIdleScreen",value:function(){this.props.dispatch(y(!1))}},{key:"render",value:function(){return c.a.createElement("div",{className:"depositBox__keyboard"},this.renderKeys())}}]),t}(n.Component)),A=Object(o.b)(function(e){return{passcode:e.passcode,screenStatusMessage:e.screenStatusMessage,savedPasscode:e.savedPasscode,deviceLocked:e.deviceLocked,serviceMode:e.serviceMode}})(j),T=(a(58),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"depositBox"},c.a.createElement(v,null),c.a.createElement(A,null),c.a.createElement("div",{className:"depositBox__sn"},"S/N: 4815162342"))}}]),t}(n.Component));a(59);var w=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(8),R=a(4),I={screenStatusMessage:"",screenActive:!1,deviceLocked:!1,passcode:"",savedPasscode:"",readScreenMessage:!1,serviceMode:!1},N=Object(L.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SCREEN_SET_MESSAGE":return Object(R.a)({},e,{screenStatusMessage:t.payload});case"SCREEN_ACTIVE":return Object(R.a)({},e,{screenActive:t.payload});case"DEVICE_LOCK":return Object(R.a)({},e,{deviceLocked:t.payload});case"SET_PASSCODE":return Object(R.a)({},e,{passcode:"".concat(t.payload)});case"SAVE_PASSCODE":return Object(R.a)({},e,{savedPasscode:"".concat(t.payload)});case"READ_SCREEN_MESSAGE":return Object(R.a)({},e,{readScreenMessage:t.payload});case"SET_SERVICE_MODE":return Object(R.a)({},e,{serviceMode:t.payload});default:return e}});a(60);s.a.render(c.a.createElement(o.a,{store:N},c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.367b6c18.chunk.js.map